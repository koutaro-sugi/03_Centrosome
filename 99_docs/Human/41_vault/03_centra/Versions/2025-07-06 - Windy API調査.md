
## 調査内容
Windy APIの機能調査と03_centraへの統合方法を検討

## Windy API概要

### Map Forecast API
- **概要**: 気象データの地図上可視化
- **基盤**: Leaflet 1.4.xベース
- **機能**:
  - 40種類以上の気象レイヤー
  - 風のパーティクルアニメーション
  - 等圧線、温度分布表示
  - リアルタイム更新
- **料金**: 無料版（開発用）と有料版（本番用）

### Point Forecast API  
- **概要**: 特定座標の詳細気象データ取得
- **エンドポイント**: `https://api.windy.com/api/point-forecast/v2`
- **データ**:
  - 複数の気象モデル（GFS、ECMWF、NAM、Arome等）
  - 風速/風向、気温、降水量、雲量、湿度、気圧
  - 地表から高層（150hPa）までの多層データ
- **特徴**: 機械読み取り可能なJSON形式

## 03_centraへの統合提案

### 1. Pre-Flightページ
- フライトプラン経路上の気象確認
- 離着陸地点の詳細天候データ表示
- 飛行高度別の風況チェック
- waypoint毎の気象予報

### 2. In-Flightページ  
- リアルタイム気象マップオーバーレイ
- 現在位置の気象データ表示
- 前方の気象状況予測
- 危険気象の警告

### 3. 技術的実装方針
- **Map API**: 既存のMapboxレイヤーに気象レイヤーを重ね合わせ
- **Point API**: フライトプランのwaypoint座標で気象データ取得
- **更新頻度**: 10-15分間隔での自動更新

## データ更新頻度

### 公式ドキュメントの記載
**重要**: Windy API公式ドキュメントには、具体的なデータ更新頻度の記載がない

### 確認できた事実
1. **Point Forecast API**
   - 常に最新の予報データを返す
   - 過去の予報データは取得不可
   - リクエスト時点での最新データを提供

2. **利用可能な気象モデル**
   - GFS（グローバル）
   - ECMWF（ヨーロッパ）
   - AROME（フランス周辺）
   - ICON EU（ヨーロッパ）
   - NAM CONUS（米国本土）
   - NAM Hawaii（ハワイ）
   - NAM Alaska（アラスカ）
   - GFS Wave（波浪、一部海域除外）
   - CAMS（大気質）

### 一般的な気象モデル更新頻度（参考）
※Windy APIでの実際の更新タイミングは要確認
- **グローバルモデル（GFS、ECMWF）**: 通常6-12時間ごと
- **リージョナルモデル（NAM、AROME）**: より頻繁な更新

### ドローン運航への推奨事項
1. **APIレスポンスの確認**
   - データのタイムスタンプを必ず確認
   - 予報の基準時刻をチェック

2. **運用上の注意**
   - フライト直前に最新データを取得
   - 長時間フライトでは定期的な更新確認
   - 重要な運航では複数モデルの比較推奨

## 次のステップ
1. APIキーの取得（開発用）
2. Pre-Flightページへの試験実装
3. UIデザインの検討
4. データ更新タイミングの自動チェック機能

## 関連リンク
- [[../Overview|プロジェクト概要へ戻る]]
- [[../Current Tasks|現在のタスクへ戻る]]